{"name": "409 Conflict при повторном принятии заказа c курьером.", "status": "failed", "statusDetails": {"message": "AssertionError: Ожидалось: 409 Conflict, получено 404 {\"code\":404,\"message\":\"Заказа с таким id не существует\"}\nassert 404 == 409\n +  where 404 = <Response [404]>.status_code", "trace": "self = <test_accept_order.TestAcceptOrder object at 0x0000022179E148D0>, courier_id = 471141, order_confirmed = 902984\n\n    @allure.title('409 Conflict при повторном принятии заказа c курьером.')\n    @allure.description('Создаем курьера фикстурой courier_id и получаем его ID.'\n                        ' Cоздаем заказ фикстурой order_confirmed. Фикстура также проверяет, что заказ создан и успешно находится в системе по track номеру.'\n                        ' Отправляется PUT запрос на ручку /api/v1/orders/accept/orderID?courierId=CourierID.'\n                        ' Отправляется повторный PUT запрос на ручку /api/v1/orders/accept/orderID?courierId=CourierID. Проверяем, что код ответа 409 Conflict'\n                        ' и текст ответа \"Этот заказ уже в работе\". Курьер удаляется из системы фикстурой courier_id.')\n    def test_accept_order_accept_same_order_twice_shows_error_409(self, courier_id, order_confirmed):\n        path = f'{config.ACCEPT_ORDER_PATH}{order_confirmed}?courierId={courier_id}'\n        Courier.accept_order(courier_id, order_confirmed)\n        response = Request.put_no_payload(path)\n        expected_response_message = \"Этот заказ уже в работе\"\n>       assert response.status_code == 409, f'Ожидалось: 409 Conflict, получено {response.status_code} {response.text}'\nE       AssertionError: Ожидалось: 409 Conflict, получено 404 {\"code\":404,\"message\":\"Заказа с таким id не существует\"}\nE       assert 404 == 409\nE        +  where 404 = <Response [404]>.status_code\n\ntests\\test_accept_order.py:75: AssertionError"}, "description": "Создаем курьера фикстурой courier_id и получаем его ID. Cоздаем заказ фикстурой order_confirmed. Фикстура также проверяет, что заказ создан и успешно находится в системе по track номеру. Отправляется PUT запрос на ручку /api/v1/orders/accept/orderID?courierId=CourierID. Отправляется повторный PUT запрос на ручку /api/v1/orders/accept/orderID?courierId=CourierID. Проверяем, что код ответа 409 Conflict и текст ответа \"Этот заказ уже в работе\". Курьер удаляется из системы фикстурой courier_id.", "steps": [{"name": "Принятие заказа курьером", "status": "passed", "steps": [{"name": "PUT request без payload", "status": "passed", "parameters": [{"name": "path", "value": "'/api/v1/orders/accept/902984?courierId=471141'"}], "start": 1739134605840, "stop": 1739134605881}], "attachments": [{"name": "Заказ не принят курьером: 404, {\"code\":404,\"message\":\"Заказа с таким id не существует\"}.", "source": "56f50035-6b4f-4f2a-bfad-1115179bcd52-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "courier_id", "value": "471141"}, {"name": "order_track", "value": "902984"}], "start": 1739134605840, "stop": 1739134605886}, {"name": "PUT request без payload", "status": "passed", "parameters": [{"name": "path", "value": "'/api/v1/orders/accept/902984?courierId=471141'"}], "start": 1739134605886, "stop": 1739134605926}], "start": 1739134605839, "stop": 1739134605927, "uuid": "08b9e4d1-d7ef-4639-8a38-216070f6fabd", "historyId": "945b646de2b0e0511c41bb6598051289", "testCaseId": "945b646de2b0e0511c41bb6598051289", "fullName": "tests.test_accept_order.TestAcceptOrder#test_accept_order_accept_same_order_twice_shows_error_409", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_accept_order"}, {"name": "subSuite", "value": "TestAcceptOrder"}, {"name": "host", "value": "k-julls"}, {"name": "thread", "value": "10016-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_accept_order"}]}